(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{173:function(e,a,t){e.exports=t(343)},178:function(e,a,t){},200:function(e,a){},202:function(e,a){},216:function(e,a){},218:function(e,a){},246:function(e,a){},248:function(e,a){},249:function(e,a){},255:function(e,a){},257:function(e,a){},275:function(e,a){},278:function(e,a){},294:function(e,a){},297:function(e,a){},342:function(e,a,t){},343:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(49),c=t.n(o),l=t(20),s=(t(178),t(27)),i=t.n(s),u=t(46),m=t(25),d=t(26),p=t(35),h=t(34),v=(t(180),t(32)),f=t.n(v),g=t(163),E=t(36),b=t(47),_=t(50),w=t(61),k=function(e){var a=Object(n.useState)({}),t=Object(w.a)(a,2),o=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(w.a)(l,2),i=(s[0],s[1]),u=function(e){var a=e.target,t=a.name,n=a.value;c(Object(_.a)(Object(_.a)({},o),{},Object(b.a)({},t,n)))};return r.a.createElement("div",{className:"inner-container"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"emil"}),r.a.createElement("input",{type:"text",name:"email",className:"login-input input-xlarge",placeholder:"Email Address",onChange:function(e){return u(e)}})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{type:"password",name:"password",className:"login-input",placeholder:"Password",onChange:function(e){return u(e)}})),r.a.createElement("div",{className:"form-group text-center"},r.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",onClick:function(a){return function(a){a.preventDefault(),f.a.post("/api/auth/login",o).then((function(a){a.data.token&&(localStorage.setItem("token",a.data.token),e.userLogin(a.data.token),e.history.push("/"))})).catch((function(e){i(!0),setTimeout((function(){i(!1)}),4e3),console.log("email or password not correct")}))}(a)}},"Login"))))},y=function(e){var a=Object(n.useState)({}),t=Object(w.a)(a,2),o=t[0],c=t[1],l=function(e){var a=e.target,t=a.name,n=a.value;c(Object(_.a)(Object(_.a)({},o),{},Object(b.a)({},t,n)))},s=function(){var a=Object(u.a)(i.a.mark((function a(t){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),o.password!=o.password_confirmation){a.next=20;break}return a.prev=2,a.next=5,f.a.post("/api/auth/signup",o);case 5:if(!(n=a.sent).data.token){a.next=12;break}localStorage.setItem("token",n.data.token),e.userLogin(n.data.token),e.history.push("/"),a.next=13;break;case 12:throw{message:"something"};case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(2),console.log(a.t0);case 18:a.next=21;break;case 20:console.log("password confor is bla bla bla");case 21:case"end":return a.stop()}}),a,null,[[2,15]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"inner-container"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:l})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"emil"}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Email Address ",onChange:l})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:l})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{type:"password",name:"password_confirmation",placeholder:"Password confirmation ",onChange:l})),r.a.createElement("button",{type:"button",className:"btn btn-sm",onClick:function(e){return s(e)}},"Sign Up")))},N=function(e){Object(p.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).state={isLoginOpen:!0},n}return Object(d.a)(t,[{key:"showLogin",value:function(){this.setState({isLoginOpen:!0})}},{key:"showSingup",value:function(){this.setState({isLoginOpen:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"user__container"},r.a.createElement("div",{className:"user__btn",onClick:function(){return e.showLogin()}},"Login"),r.a.createElement("div",{className:"user__btn",onClick:function(){return e.showSingup()}},"Create Account")),this.state.isLoginOpen?r.a.createElement(k,Object.assign({},this.props,{userLogin:this.props.userLogin})):r.a.createElement(y,Object.assign({},this.props,{userLogin:this.props.userLogin})))}}]),t}(n.Component),x=t(348),j=t(349),O=t(350),L=t(351),C=function(){return r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(j.a,{xs:"2"},r.a.createElement(O.a,null,r.a.createElement(x.a,{className:"home"},r.a.createElement(j.a,null,r.a.createElement("h1",null," Create private Rome ")),r.a.createElement(j.a,null,r.a.createElement("input",{className:"name form-control"})),r.a.createElement(j.a,null,r.a.createElement("input",{className:"des form-control"})),r.a.createElement(j.a,null,r.a.createElement("select",{className:"lang form-control form-control-md"},r.a.createElement("option",null,"Large select"))),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{className:"btn-primary-start",block:!0},"Start Game")))),r.a.createElement(O.a,null,r.a.createElement(x.a,{className:"player"},r.a.createElement(j.a,null,r.a.createElement("h1",null," PLAYERS")),r.a.createElement(j.a,null,r.a.createElement("hr",null)))))))},S=t(353),D=t(352),A=function(e){var a=e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a.Link,{as:l.b,to:"/profile",user:e.user},"Profile"),r.a.createElement(S.a.Link,{as:l.b,to:"/logout",onClick:e.logout},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a.Link,{as:l.b,to:"/login"},"Login"),r.a.createElement(S.a.Link,{as:l.b,to:"/signup"},"Register"));return r.a.createElement("div",null,r.a.createElement(D.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(D.a.Brand,{as:l.b,to:"/"},"Kharbashah"),r.a.createElement(D.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(D.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end"},r.a.createElement(S.a,null,a))))},I=function(){return r.a.createElement("div",null,r.a.createElement(x.a,{fluid:!0,className:"home"},r.a.createElement(j.a,null,r.a.createElement("h2",null," About ")),r.a.createElement(j.a,null,r.a.createElement("p",null," ","Kharpashah is a multiplayer drawing and guessing game. ",r.a.createElement("br",null),"One game consists of a few rounds in which every round someone has to draw their chosen word and others have to guess it to gain points!")),r.a.createElement(j.a,null,r.a.createElement("h2",null," Instructions ")),r.a.createElement(j.a,null,r.a.createElement("p",null," ","When its your turn to draw, you will have to choose a word from three options and visualize that word in 80 seconds, alternatively when somebody else is drawing you have to type your guess into the chat to gain points, be quick, the earlier you guess a word the more points you get!")),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{variant:"primary",size:"lg",as:l.b,to:"/game",block:!0},"Start Game"),r.a.createElement(L.a,{variant:"secondary",size:"lg",block:!0},"Create private room"))))},M=t(29);M.initializeApp({apiKey:"AIzaSyDmPon15pDhh6C_-bl6p_xWQrLKx1CVFJU",authDomain:"project4-kharbsha.firebaseapp.com",databaseURL:"https://project4-kharbsha.firebaseio.com",projectId:"project4-kharbsha",storageBucket:"project4-kharbsha.appspot.com",messagingSenderId:"468753433035",appId:"1:455668950796:web:4837c8477221e1064b0b29",measurementId:"G-VSGFPEFLK4"});var W=function(e,a){return M.database().ref(e+a+"/playersDB")},B=function(e,a){return M.database().ref(e+a+"/drawingDB")},R=function(e,a){return M.database().ref(e+a+"/timerDB")},T=function(e,a){return M.database().ref(e+a+"/chatDB")},F=function(e,a){return M.database().ref(e+a+"/wordDB")},H=function(e,a){return M.database().ref(e+a+"/gameDB")},P=function(e,a){return M.database().ref(e+a+"/sessionDB")},z=t(171),G=t.n(z),U=t(7),Y=t.n(U),K=t(172),q=t.n(K),X=(t(342),function(e){Object(p.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=a.call.apply(a,[this].concat(o))).myRef=r.a.createRef(),e.Sketch=function(a){var t,n,r,o,c,l,s,p,h,v,g,E=[],b=!1,_=[],w="",k=[],y="en",N=!1,x=!1,j=6,O=0,L=0,C=0,S=(q.a.parse(e.props.location.search),function(){function e(a){Object(m.a)(this,e),this.word=a,this.wordText=document.querySelector(".word"),this.wordArr=a.split(""),this.formatedWord=this.wordArr.map((function(e){return"_"})),this.amount=parseInt(this.wordArr.length/3)}return Object(d.a)(e,[{key:"renderWord",value:function(){b?this.wordText.innerHTML="<span>".concat(this.word,"</span>"):(v>=60&&(this.wordText.innerHTML="<span>".concat(this.formatedWord.join(" "),"</span>")),40!=v||N||(N=!0,this.pickRand(),this.wordText.innerHTML="<span>".concat(this.formatedWord.join(" "),"</span>")),20!=v||N||(N=!0,this.pickRand(),this.wordText.innerHTML="<span>".concat(this.formatedWord.join(" "),"</span>")),5!=v||N||(N=!0,this.amount-=1,this.pickRand(),this.wordText.innerHTML="<span>".concat(this.formatedWord.join(" "),"</span>")))}},{key:"pickRand",value:function(){for(var e=0;e!=this.amount;){var a=Math.floor(Math.random()*this.wordArr.length);this.formatedWord[a]!=this.wordArr[a]&&(e++,this.formatedWord[a]=this.wordArr[a])}}}]),e}()),D=new S(w);function A(){l.once("value",(function(e){e=e.val(),c.once("value",(function(a){a=a.val(),o=a.count;var t=Math.floor(Math.random()*o),n=e[Object.keys(e)[t]];n.isDrawing=!0,n.name==r&&(b=!0),a.start=!0,l.update(e),c.update(a)}))}))}function I(){return(I=Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=12;break}return e.prev=1,e.next=4,f.a.get("/api/word/".concat(y,"/random/1/1/1"));case 4:a=e.sent,_=a.data.randomWords,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:M();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function M(){var e=Y()("#canvasContainer");e.css("position","relative"),e.append("<div class='words__btn'></div>");var a=Y()(".words__btn");a.css({display:"flex",justifyContent:"space-around",position:"absolute",width:"80%",top:"50%",left:"20px",color:"red"}),_.forEach((function(e){a.append("<div class='word__btn'>".concat(e,"</div>"))})),Y()(".word__btn").css({fontSize:"24px",color:"white",backgroundColor:"rgba(25, 26, 35, 0.7)"}),Y()(".word__btn").on("click",(function(e){w=e.target.innerHTML,Y()(".words__btn").remove(),c.once("value",(function(e){(e=e.val()).loop=!0,e.start=!1,c.update(e)})),h.update({word:w.toUpperCase()})}))}function P(){s.remove(),p.remove(),c.once("value",(function(e){(e=e.val()).loop=!1,c.update(e),l.once("value",(function(a){a=a.val();var t=0;Object.keys(a).forEach((function(n,r){a[n].isDrawing&&(a[n].isDrawing=!1,t=r==e.count-1?0:r+1)}));var n=a[Object.keys(a)[t]];n.isDrawing=!0,n.name==r&&(b=!0),e.start=!0,l.update(a),c.update(e)}))}))}function z(){b&&(k.push({x:a.mouseX,y:a.mouseY,px:a.pmouseX,py:a.pmouseY,r:O,g:L,b:C,penwidth:j}),s.push({x:a.mouseX,y:a.mouseY,px:a.pmouseX,py:a.pmouseY,r:O,g:L,b:C,penwidth:j}))}function G(){a.mouseIsPressed&&b&&z()}function U(e){if(e){console.log("started time",g);var a=new Date;g=setInterval((function(){var e=+new Date-+a,t=Math.floor(e/1e3)%60;v=60-t,N=!1,document.querySelector(".timer").innerHTML="<span>".concat(v,"</span>"),D.renderWord(),1==v&&(clearInterval(),b&&P())}),1e3)}else console.log("stoped time",g),clearInterval(g)}function K(e,a,t){console.log("test"),O=e,L=a,C=t}function X(e){console.log("tttt"),j=e}a.setup=function(){t=e.props.match.params.host,n=e.props.match.params.sessionid,r=e.props.match.params.player,y=e.props.match.params.lang,console.log("Host: ".concat(t,", Session ID: ").concat(n,", Player: ").concat(r)),E.push(r),l=W(t,n),s=B(t,n),R(t,n),c=T(t,n),h=F(t,n),p=H(t,n),l.once("value",(function(e){e=e.val();var a={},t={isDrawing:!1,name:r,score:0};if(e){var n;Object.keys(e).forEach((function(t,n){var r=e[t];a["".concat(r.name)]=r})),a["".concat(t.name)]=t,n=Object.keys(a).length,l.update(a),c.update({start:!1,clear:!1,loop:!1,count:n})}else a["".concat(t.name)]=t,l.set(a),c.set({start:!1,clear:!1,loop:!1,count:1})})),l.on("value",(function(e){(e=e.val())&&e.hasOwnProperty("".concat(r))&&(b=!!e["".concat(r)].isDrawing)}));var o=a.select(".chat"),i=a.select("#inputBox");Y()("#btnSend").on("click",(function(e){var a=i.value();""!=a&&(i.value(""),h.limitToLast(1).once("value",(function(e){(e=e.val()).word!=a.toUpperCase()||b||x?p.push({playerName:r,msg:a,answer:!1}):(x=!0,p.push({playerName:r,msg:"Guessed the answer correctly!",answer:!0}))})))})),p.on("child_added",(function(e){var t=e=e.val(),n=t.playerName,c=t.msg,s=t.answer,i=a.createElement("li"),u=a.createElement("strong",n);u.class("primary-font"),u.parent(i);var m=a.createElement("p",c);m.class("message"),m.parent(i),i.parent(o),s&&b&&l.once("value",(function(e){(e=e.val())["".concat(n)].score+=10,e["".concat(r)].score+=5,l.update(e)}))}));var u=document.getElementById("canvasContainer"),m=u.offsetWidth,d=u.offsetHeight,f=a.createCanvas(m,d);f.mousePressed(z),f.mouseMoved(G),f.parent("canvasContainer"),s.on("child_added",(function(e){e=e.val(),k.push(e)})),h.set({word:""}),h.on("value",(function(e){e=e.val(),w=e.word,(D=new S(w)).renderWord(),console.log(w)})),c.on("value",(function(e){(e=e.val()).start&&function(){I.apply(this,arguments)}(),e.loop?(console.log("started drawing"),U(!0),a.loop()):(console.log("stopped drawing"),k=[],v=60,document.querySelector(".timer").innerHTML="<span>".concat(v,"</span>"),U(!1),a.clear(),a.noLoop())})),Y()("#draw").on("click",A),Y()("#clear").on("click",P),Y()("#black").on("click",(function(){return K(0,0,0)})),Y()("#aliceblue").on("click",(function(){return K(240,248,255)})),Y()("#gray").on("click",(function(){return K(128,128,128)})),Y()("#lightgray").on("click",(function(){return K(211,211,211)})),Y()("#darkred").on("click",(function(){return K(139,0,0)})),Y()("#brown").on("click",(function(){return K(139,69,19)})),Y()("#red").on("click",(function(){return K(255,0,0)})),Y()("#pink").on("click",(function(){return K(255,192,203)})),Y()("#orange").on("click",(function(){return K(255,165,0)})),Y()("#darkorange").on("click",(function(){return K(255,140,0)})),Y()("#yellow").on("click",(function(){return K(255,255,0)})),Y()("#khaki").on("click",(function(){return K(240,230,140)})),Y()("#green").on("click",(function(){return K(0,128,0)})),Y()("#lightgreen").on("click",(function(){return K(144,238,144)})),Y()("#lightblue").on("click",(function(){return K(30,144,255)})),Y()("#lightskyblue").on("click",(function(){return K(135,206,250)})),Y()("#blue").on("click",(function(){return K(0,0,255)})),Y()("#slateblue").on("click",(function(){return K(106,90,205)})),Y()("#purple").on("click",(function(){return K(128,0,128)})),Y()("#violet").on("click",(function(){return K(238,130,238)})),Y()("#eraser").on("click",(function(){return K(255,255,255)})),Y()("#width1").on("click",(function(){return X(5)})),Y()("#width2").on("click",(function(){return X(15)})),Y()("#width3").on("click",(function(){return X(25)})),Y()("#width4").on("click",(function(){return X(40)})),a.noLoop()},a.draw=function(){a.stroke(O,L,C),a.strokeWeight(j),a.noFill();for(var e=0;e<k.length;e++){var t=k[e];a.stroke(t.r,t.g,t.b),a.strokeWeight(t.penwidth),a.line(t.x,t.y,t.px,t.py)}},a.windowResized=function(){var e=document.getElementById("canvasContainer"),t=e.offsetWidth,n=e.offsetHeight;a.resizeCanvas(t,n)}},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.myP5=new G.a(this.Sketch,this.myRef.current)}},{key:"render",value:function(){return r.a.createElement("div",{className:"all__view"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"game__container"},r.a.createElement("div",{className:"row inner__game__container"},r.a.createElement("div",{className:"col-2 leaderboard__container"},r.a.createElement("div",null)),r.a.createElement("div",{className:"col-9 drawing__container"},r.a.createElement("div",{className:"timer"},r.a.createElement("span",null,"60")),r.a.createElement("div",{id:"canvasContainer",className:"canvasContainer"}),r.a.createElement("div",{className:"word"},r.a.createElement("span",null,"WORD"))),r.a.createElement("div",{className:"col-1 tools__container"},r.a.createElement("div",{className:"row tools1"},r.a.createElement("div",{className:"pen__box__row"},r.a.createElement("div",{id:"eraser",className:"pen__box",style:{marginTop:"10px"}})),r.a.createElement("div",{className:"pen__box__row"},r.a.createElement("div",{id:"width1",className:"pen__box",style:{backgroundColor:"gray"}},"5"),r.a.createElement("div",{id:"width2",className:"pen__box",style:{backgroundColor:"gray"}},"15"),r.a.createElement("div",{id:"width3",className:"pen__box",style:{backgroundColor:"gray"}},"25"),r.a.createElement("div",{id:"width4",className:"pen__box",style:{backgroundColor:"gray"}},"40"))),r.a.createElement("div",{className:"row tools2"},r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"aliceblue",className:"color__box"}),r.a.createElement("div",{id:"black",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"lightgray",className:"color__box"}),r.a.createElement("div",{id:"gray",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"brown",className:"color__box"}),r.a.createElement("div",{id:"darkred",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"pink",className:"color__box"}),r.a.createElement("div",{id:"red",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"darkorange",className:"color__box"}),r.a.createElement("div",{id:"orange",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"khaki",className:"color__box"}),r.a.createElement("div",{id:"yellow",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"lightgreen",className:"color__box"}),r.a.createElement("div",{id:"green",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"lightskyblue",className:"color__box"}),r.a.createElement("div",{id:"lightblue",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"slateblue",className:"color__box"}),r.a.createElement("div",{id:"blue",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"violet",className:"color__box"}),r.a.createElement("div",{id:"purple",className:"color__box"}))))))),r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"chat__container"},r.a.createElement("div",{id:"chat"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"panel panel-primary"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("span",{className:"glyphicon glyphicon-comment"})," ","Chat"),r.a.createElement("div",{className:"panel-body"},r.a.createElement("ul",{className:"chat"})),r.a.createElement("div",{className:"panel-footer"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{id:"inputBox",type:"text",className:"form-control input-sm",placeholder:"Enter your guess"}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-warning btn-sm",id:"btnSend"},"Send"))))))))))),r.a.createElement("button",{id:"draw"},"start"))}}]),t}(n.Component)),J=function(e){Object(p.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).setup=function(){n.check=!0;var e=n.state,a=e.host,t=e.sessionID,r=n.props.user,o=P(a,t);a==r.username&&o.remove(),o.once("value",(function(e){e=e.val();var c={},l=r;e?(c.players={},Object.keys(e.players).forEach((function(a,t){var n=e.players[a];c.players["".concat(n.username)]=n})),c.players["".concat(l.username)]=l,r.username,o.update(c)):(c.players={},c.players["".concat(l.username)]=l,c.start=!1,o.set(c)),n.setState({sessionDB:P(a,t)})})),o.on("value",(function(e){if(e=e.val()){if(e.start){n.lang=e.lang;var a=Math.floor(500*Math.random());setTimeout(n.setRedirect,a)}if(e.players){var t=[];Object.keys(e.players).forEach((function(a){t.push(e.players[a])})),n.setState({players:t})}}}))},n.setRedirect=function(){n.setState({redirect:!0})},n.renderRedirect=function(){return r.a.createElement(E.a,{to:"/game/".concat(n.props.match.params.host,"/").concat(n.props.match.params.sessionid,"/").concat(n.props.user.username,"/").concat(n.lang)})},n.check=!1,n.lang="en",n.state={redirect:!1,host:n.props.match.params.host,sessionID:n.props.match.params.sessionid,players:[],sessionDB:""},n}return Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.check||this.setup()}},{key:"langSelect",value:function(e){this.lang=e.target.value}},{key:"startGame",value:function(){var e=this;this.state.host==this.props.user.username&&this.state.sessionDB.once("value",(function(a){(a=a.val())&&(a.start=!0,a.lang=e.lang,e.state.sessionDB.update(a))}))}},{key:"render",value:function(){var e=this,a=this.state.players.map((function(e,a){return r.a.createElement("div",{key:a},e.username)}));return r.a.createElement(r.a.Fragment,null,this.state.redirect&&this.props.user?this.renderRedirect():null,r.a.createElement(x.a,null,r.a.createElement(j.a,{xs:"2"},r.a.createElement(O.a,null,r.a.createElement(x.a,{className:"home"},r.a.createElement(j.a,null,r.a.createElement("h1",null," Create private Rome ")),r.a.createElement(j.a,null,r.a.createElement("select",{className:"lang form-control form-control-md",onChange:function(a){e.langSelect(a)}},r.a.createElement("option",{value:"en"},"English"),r.a.createElement("option",{value:"ar"},"Arabic"))),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{className:"btn-primary-start",block:!0,onClick:function(){return e.startGame()}},"Start Game")))),r.a.createElement(O.a,null,r.a.createElement(x.a,{className:"player"},r.a.createElement(j.a,null,r.a.createElement("h1",null," PLAYERS"),a),r.a.createElement(j.a,null,r.a.createElement("hr",null)))))))}}]),t}(n.Component),V=function(e){Object(p.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={isAuth:!1,user:null},e.logoutHandler=function(a){a.preventDefault(),localStorage.removeItem("token"),e.setState({isAuth:!1,user:null})},e.userLogin=function(){var a=Object(u.a)(i.a.mark((function a(t){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.get("/api/auth/user",{headers:{"x-auth-token":t}});case 3:n=a.sent,e.setState({isAuth:!0,user:n.data.user}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e.setState({user:null,isAuth:!1});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");null!=e&&(Object(g.decode)(e)||localStorage.removeItem("token"),this.userLogin(e))}},{key:"render",value:function(){var e=this,a=this.state,t=(a.isAuth,a.user);return r.a.createElement("div",null,r.a.createElement(A,{user:t,logout:this.logoutHandler}),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",component:I}),r.a.createElement(E.b,{path:"/room",component:C}),"} />",r.a.createElement(E.b,{path:"/user",render:function(a){return r.a.createElement(N,Object.assign({},a,{userLogin:e.userLogin}))}}),r.a.createElement(E.b,{exact:!0,path:"/game/:host/:sessionid",render:function(e){return r.a.createElement(J,Object.assign({user:t},e))}}),">",r.a.createElement(E.b,{exact:!0,path:"/game/:host/:sessionid/:player/:lang",render:function(a){return r.a.createElement(X,Object.assign({},a,{userLogin:e.userLogin}))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[173,1,2]]]);
//# sourceMappingURL=main.6e1f1c95.chunk.js.map