(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{180:function(e,t,a){e.exports=a(350)},185:function(e,t,a){},207:function(e,t){},209:function(e,t){},223:function(e,t){},225:function(e,t){},253:function(e,t){},255:function(e,t){},256:function(e,t){},262:function(e,t){},264:function(e,t){},282:function(e,t){},285:function(e,t){},301:function(e,t){},304:function(e,t){},349:function(e,t,a){},350:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(56),c=a.n(o),l=a(21),s=(a(185),a(29)),i=a.n(s),u=a(51),m=a(15),d=a(16),p=a(18),h=a(17),v=(a(187),a(35)),f=a.n(v),E=a(167),b=a(37),g=a(52),w=a(57),_=a(31),k=function(e){var t=Object(n.useState)({}),a=Object(_.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),s=Object(_.a)(l,2),i=(s[0],s[1]),u=function(e){var t=e.target,a=t.name,n=t.value;c(Object(w.a)(Object(w.a)({},o),{},Object(g.a)({},a,n)))};return r.a.createElement("div",{className:"inner-profile-container"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"emil"}),r.a.createElement("input",{type:"text",name:"email",className:"login-input input-xlarge",placeholder:"Email Address",onChange:function(e){return u(e)}})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{type:"password",name:"password",className:"login-input",placeholder:"Password",onChange:function(e){return u(e)}})),r.a.createElement("div",{className:"form-group text-center"},r.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",onClick:function(t){return function(t){t.preventDefault(),f.a.post("/api/auth/login",o).then((function(t){t.data.token&&(localStorage.setItem("token",t.data.token),e.userLogin(t.data.token),e.history.push("/"))})).catch((function(e){i(!0),setTimeout((function(){i(!1)}),4e3),console.log("email or password not correct")}))}(t)}},"Login"))))},y=function(e){var t=Object(n.useState)({}),a=Object(_.a)(t,2),o=a[0],c=a[1],l=function(e){var t=e.target,a=t.name,n=t.value;c(Object(w.a)(Object(w.a)({},o),{},Object(g.a)({},a,n)))},s=function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),o.password!=o.password_confirmation){t.next=20;break}return t.prev=2,t.next=5,f.a.post("/api/auth/signup",o);case 5:if(!(n=t.sent).data.token){t.next=12;break}localStorage.setItem("token",n.data.token),e.userLogin(n.data.token),e.history.push("/"),t.next=13;break;case 12:throw{message:"something"};case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.log(t.t0);case 18:t.next=21;break;case 20:console.log("password confor is bla bla bla");case 21:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"inner-profile-container"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:l})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"emil"}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Email Address ",onChange:l})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:l})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{type:"password",name:"password_confirmation",placeholder:"Password confirmation ",onChange:l})),r.a.createElement("button",{type:"button",className:"btn btn-sm",onClick:function(e){return s(e)}},"Sign Up")))},N=(n.Component,a(355)),x=a(356),O=a(357),j=a(358),L=a(178);function S(e){var t=e.isLogin,a=e.component,n=e.redirectTo,o=Object(L.a)(e,["isLogin","component","redirectTo"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.b,Object.assign({},o,{render:function(e){return t?r.a.createElement(a,Object.assign({},o,e)):r.a.createElement(b.a,{to:n})}})),console.log(t))}var C=a(360),D=a(362),A=function(e){var t=e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a.Link,{as:l.b,to:"/profile",user:e.user},"Profile"),r.a.createElement(C.a.Link,{as:l.b,to:"/logout",onClick:e.logout},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a.Link,{as:l.b,to:"/login"},"Login"),r.a.createElement(C.a.Link,{as:l.b,to:"/signup"},"Register"));return r.a.createElement("div",null,r.a.createElement(D.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(D.a.Brand,{as:l.b,to:"/"},"Kharbashah"),r.a.createElement(D.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(D.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end"},r.a.createElement(C.a,null,t))))},P=a(359),I=function(){return r.a.createElement("div",{className:"inner-profile-container"},r.a.createElement("div",{className:"input-group"},r.a.createElement(N.a,{className:"mt-5"},r.a.createElement(x.a,null,r.a.createElement(P.a,{className:"rounded mx-auto d-block",src:"https://via.placeholder.com/150",rounded:!0})),r.a.createElement(x.a,null,r.a.createElement("label",{className:"text-light mx-auto"},"User Name")),r.a.createElement(x.a,{className:"text-light text-center text-uppercase mt-5"},r.a.createElement(O.a,{xs:6},r.a.createElement("label",null,"Overall")),r.a.createElement(O.a,{xs:6},r.a.createElement("label",null,"Feedback"))),r.a.createElement(x.a,{className:"text-light text-center mt-3"},r.a.createElement(O.a,{xs:6},r.a.createElement("span",{class:"border border-primary p-2"}," 0 ")),r.a.createElement(O.a,{xs:6},r.a.createElement("span",{class:"border border-primary p-2"}," 0 "))))))},T=a(361),F=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"inner-profile-container"},r.a.createElement("div",{className:"box"},r.a.createElement(T.a,null,r.a.createElement(T.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"holder.js/200x200?text=First slide&bg=373940",alt:"First slide"})),r.a.createElement(T.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"holder.js/200x200?text=Second slide&bg=282c34",alt:"second slide"})),r.a.createElement(T.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"holder.js/200x200?text=Third slide&bg=20232a",alt:"Third slide"}))),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",name:"username",placeholder:"Username"})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"emil"}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Email Address "})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password"})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"password"}),r.a.createElement("input",{type:"password",name:"password_confirmation",placeholder:"Password confirmation "})),r.a.createElement("button",{type:"button",className:"btn btn-sm"},"Edit")))}}]),a}(n.Component),M=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isProfileOpen:!0},n}return Object(d.a)(a,[{key:"showProfile",value:function(){this.setState({isProfileOpen:!0})}},{key:"showEdit",value:function(){this.setState({isProfileOpen:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"profile__container"},r.a.createElement("div",{className:"user__btn",onClick:function(){return e.showProfile()}},"Profile"),r.a.createElement("div",{className:"user__btn",onClick:function(){return e.showEdit()}},"Edit")),this.state.isProfileOpen?r.a.createElement(I,Object.assign({},this.props,{userLogin:this.props.userLogin})):r.a.createElement(F,Object.assign({},this.props,{userLogin:this.props.userLogin})))}}]),a}(n.Component),W=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isLoginOpen:!0},n}return Object(d.a)(a,[{key:"showLogin",value:function(){this.setState({isLoginOpen:!0})}},{key:"showSignin",value:function(){this.setState({isLoginOpen:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"profile__container"},r.a.createElement("div",{className:"user__btn",onClick:function(){return e.showLogin()}},"Login"),r.a.createElement("div",{className:"user__btn",onClick:function(){return e.showSignin()}},"Signup")),this.state.isLoginOpen?r.a.createElement(k,Object.assign({},this.props,{userLogin:this.props.userLogin})):r.a.createElement(y,Object.assign({},this.props,{userLogin:this.props.userLogin})))}}]),a}(n.Component),B=function(e){var t=Object(n.useState)(!1),a=Object(_.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(),s=Object(_.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(),d=Object(_.a)(m,2),p=d[0],h=d[1];function v(){var t=function(e,t){var a="";t.indexOf("a")>-1&&(a+="abcdefghijklmnopqrstuvwxyz");t.indexOf("A")>-1&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZ");t.indexOf("#")>-1&&(a+="0123456789");for(var n="",r=e;r>0;--r)n+=a[Math.round(Math.random()*(a.length-1))];return n}(5,"#Aa");h(r.a.createElement(b.a,{to:"/game/".concat(e.user.username,"/").concat(t)}))}return Object(n.useEffect)((function(){e.isAuth?c(!0):c(!1)})),Object(n.useEffect)((function(){u(o?r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"btn-primary-start text-center",block:!0},"Start Game")),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{variant:"secondary",className:"btn-primary-start text-center",block:!0,onClick:function(){v()}},"Create private room"))):r.a.createElement(r.a.Fragment,null))}),[o]),r.a.createElement("div",null,p,r.a.createElement(N.a,null,r.a.createElement(x.a,null,r.a.createElement(O.a,{xs:8},r.a.createElement(N.a,{className:"home"},r.a.createElement("div",{className:"home-box"},r.a.createElement(x.a,null,r.a.createElement("h2",null," About ")),r.a.createElement(x.a,null,r.a.createElement("p",null," ","Kharpashah is a multiplayer drawing and guessing game."," ",r.a.createElement("br",null),"One game consists of a few rounds in which every round someone has to draw their chosen word and others have to guess it to gain points!")),r.a.createElement(x.a,null,r.a.createElement("h2",null," Instructions ")),r.a.createElement(x.a,null,r.a.createElement("p",null," ","When its your turn to draw, you will have to choose a word from three options and visualize that word in 80 seconds, alternatively when somebody else is drawing you have to type your guess into the chat to gain points, be quick, the earlier you guess a word the more points you get!"))),i)),r.a.createElement(O.a,{xs:4},r.a.createElement(N.a,null,e.isAuth?r.a.createElement(M,{userLogin:e.userLogin}):r.a.createElement(W,{userLogin:e.userLogin}))))))},R=a(32);R.initializeApp({apiKey:"AIzaSyDmPon15pDhh6C_-bl6p_xWQrLKx1CVFJU",authDomain:"project4-kharbsha.firebaseapp.com",databaseURL:"https://project4-kharbsha.firebaseio.com",projectId:"project4-kharbsha",storageBucket:"project4-kharbsha.appspot.com",messagingSenderId:"468753433035",appId:"1:455668950796:web:4837c8477221e1064b0b29",measurementId:"G-VSGFPEFLK4"});var H=function(e,t){return R.database().ref(e+t+"/playersDB")},U=function(e,t){return R.database().ref(e+t+"/drawingDB")},G=function(e,t){return R.database().ref(e+t+"/timerDB")},z=function(e,t){return R.database().ref(e+t+"/chatDB")},K=function(e,t){return R.database().ref(e+t+"/wordDB")},Y=function(e,t){return R.database().ref(e+t+"/gameDB")},q=function(e,t){return R.database().ref(e+t+"/sessionDB")},X=a(176),J=a.n(X),V=a(8),Q=a.n(V),Z=a(177),$=a.n(Z),ee=(a(349),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).myRef=r.a.createRef(),e.state={currentPlayers:{}},e.Sketch=function(t){var a,n,r,o,c,l,s,p,h,v,E,b=[],g=!1,w=[],_="",k=[],y="en",N=!1,x=!1,O=6,j=0,L=0,S=0,C=($.a.parse(e.props.location.search),function(){function e(t){Object(m.a)(this,e),this.word=t,this.wordText=document.querySelector(".word"),this.wordArr=t.split(""),this.formatedWord=this.wordArr.map((function(e){return"_"})),this.amount=parseInt(this.wordArr.length/3)}return Object(d.a)(e,[{key:"renderWord",value:function(){g?this.wordText.innerHTML="<span>".concat(this.word,"</span>"):(v>=60&&(this.wordText.innerHTML="<span>".concat(this.formatedWord.join(" "),"</span>")),40!=v||N||(N=!0,this.pickRand(),this.wordText.innerHTML="<span>".concat(this.formatedWord.join(" "),"</span>")),20!=v||N||(N=!0,this.pickRand(),this.wordText.innerHTML="<span>".concat(this.formatedWord.join(" "),"</span>")),5!=v||N||(N=!0,this.amount-=1,this.pickRand(),this.wordText.innerHTML="<span>".concat(this.formatedWord.join(" "),"</span>")))}},{key:"pickRand",value:function(){for(var e=0;e!=this.amount;){var t=Math.floor(Math.random()*this.wordArr.length);this.formatedWord[t]!=this.wordArr[t]&&(e++,this.formatedWord[t]=this.wordArr[t])}}}]),e}()),D=new C(_);function A(){l.once("value",(function(e){e=e.val(),c.once("value",(function(t){t=t.val(),o=t.count;var a=Math.floor(Math.random()*o),n=e[Object.keys(e)[a]];n.isDrawing=!0,n.name==r&&(g=!0),t.start=!0,l.update(e),c.update(t)}))}))}function P(){return(P=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=12;break}return e.prev=1,e.next=4,f.a.get("/api/word/".concat(y,"/random/1/1/1"));case 4:t=e.sent,w=t.data.randomWords,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:I();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function I(){var e=Q()("#canvasContainer");e.css("position","relative"),e.append("<div class='words__btn'></div>");var t=Q()(".words__btn");t.css({display:"flex",justifyContent:"space-around",position:"absolute",width:"80%",top:"50%",left:"20px",color:"red"}),w.forEach((function(e){t.append("<div class='word__btn'>".concat(e,"</div>"))})),Q()(".word__btn").css({fontSize:"24px",color:"white",backgroundColor:"rgba(25, 26, 35, 0.7)"}),Q()(".word__btn").on("click",(function(e){_=e.target.innerHTML,Q()(".words__btn").remove(),c.once("value",(function(e){(e=e.val()).loop=!0,e.start=!1,c.update(e)})),h.update({word:_.toUpperCase()})}))}function T(){s.remove(),p.remove(),c.once("value",(function(e){(e=e.val()).loop=!1,c.update(e),l.once("value",(function(t){t=t.val();var a=0;Object.keys(t).forEach((function(n,r){t[n].isDrawing&&(t[n].isDrawing=!1,a=r==e.count-1?0:r+1)}));var n=t[Object.keys(t)[a]];n.isDrawing=!0,n.name==r&&(g=!0),e.start=!0,l.update(t),c.update(e)}))}))}function F(){g&&(k.push({x:t.mouseX,y:t.mouseY,px:t.pmouseX,py:t.pmouseY,r:j,g:L,b:S,penwidth:O}),s.push({x:t.mouseX,y:t.mouseY,px:t.pmouseX,py:t.pmouseY,r:j,g:L,b:S,penwidth:O}))}function M(){t.mouseIsPressed&&g&&F()}function W(e){if(e){console.log("started time",E);var t=new Date;E=setInterval((function(){var e=+new Date-+t,a=Math.floor(e/1e3)%60;v=60-a,N=!1,document.querySelector(".timer").innerHTML="<span>".concat(v,"</span>"),D.renderWord(),1==v&&(clearInterval(),g&&T())}),1e3)}else console.log("stoped time",E),clearInterval(E)}function B(e,t,a){console.log("test"),j=e,L=t,S=a}function R(e){console.log("tttt"),O=e}t.setup=function(){a=e.props.match.params.host,n=e.props.match.params.sessionid,r=e.props.match.params.player,y=e.props.match.params.lang,console.log("Host: ".concat(a,", Session ID: ").concat(n,", Player: ").concat(r)),b.push(r),l=H(a,n),s=U(a,n),G(a,n),c=z(a,n),h=K(a,n),p=Y(a,n),l.once("value",(function(e){e=e.val();var t={},a={isDrawing:!1,name:r,score:0};if(e){var n;Object.keys(e).forEach((function(a,n){var r=e[a];t["".concat(r.name)]=r})),t["".concat(a.name)]=a,n=Object.keys(t).length,l.update(t),c.update({start:!1,clear:!1,loop:!1,count:n})}else t["".concat(a.name)]=a,l.set(t),c.set({start:!1,clear:!1,loop:!1,count:1})})),l.on("value",(function(t){(t=t.val())&&(e.setState({currentPlayers:t}),t.hasOwnProperty("".concat(r))&&(g=!!t["".concat(r)].isDrawing))}));var o=t.select(".chat"),i=t.select("#inputBox");Q()("#btnSend").on("click",(function(e){var t=i.value();""!=t&&(i.value(""),h.limitToLast(1).once("value",(function(e){(e=e.val()).word!=t.toUpperCase()||g||x?p.push({playerName:r,msg:t,answer:!1}):(x=!0,p.push({playerName:r,msg:"Guessed the answer correctly!",answer:!0}))})))})),p.on("child_added",(function(e){var a=e=e.val(),n=a.playerName,c=a.msg,s=a.answer,i=t.createElement("li"),u=t.createElement("strong",n);u.class("primary-font"),u.parent(i);var m=t.createElement("p",c);m.class("message"),m.parent(i),i.parent(o),s&&g&&l.once("value",(function(e){(e=e.val())["".concat(n)].score+=10,e["".concat(r)].score+=5,l.update(e)}))}));var u=document.getElementById("canvasContainer"),m=u.offsetWidth,d=u.offsetHeight,f=t.createCanvas(m,d);f.mousePressed(F),f.mouseMoved(M),f.parent("canvasContainer"),s.on("child_added",(function(e){e=e.val(),k.push(e)})),h.set({word:""}),h.on("value",(function(e){e=e.val(),_=e.word,(D=new C(_)).renderWord(),console.log(_)})),c.on("value",(function(e){(e=e.val()).start&&function(){P.apply(this,arguments)}(),e.loop?(console.log("started drawing"),W(!0),t.loop()):(console.log("stopped drawing"),k=[],v=60,x=!1,document.querySelector(".timer").innerHTML="<span>".concat(v,"</span>"),W(!1),t.clear(),t.noLoop())})),Q()("#draw").on("click",A),Q()("#clear").on("click",T),Q()("#black").on("click",(function(){return B(0,0,0)})),Q()("#aliceblue").on("click",(function(){return B(240,248,255)})),Q()("#gray").on("click",(function(){return B(128,128,128)})),Q()("#lightgray").on("click",(function(){return B(211,211,211)})),Q()("#darkred").on("click",(function(){return B(139,0,0)})),Q()("#brown").on("click",(function(){return B(139,69,19)})),Q()("#red").on("click",(function(){return B(255,0,0)})),Q()("#pink").on("click",(function(){return B(255,192,203)})),Q()("#orange").on("click",(function(){return B(255,165,0)})),Q()("#darkorange").on("click",(function(){return B(255,140,0)})),Q()("#yellow").on("click",(function(){return B(255,255,0)})),Q()("#khaki").on("click",(function(){return B(240,230,140)})),Q()("#green").on("click",(function(){return B(0,128,0)})),Q()("#lightgreen").on("click",(function(){return B(144,238,144)})),Q()("#lightblue").on("click",(function(){return B(30,144,255)})),Q()("#lightskyblue").on("click",(function(){return B(135,206,250)})),Q()("#blue").on("click",(function(){return B(0,0,255)})),Q()("#slateblue").on("click",(function(){return B(106,90,205)})),Q()("#purple").on("click",(function(){return B(128,0,128)})),Q()("#violet").on("click",(function(){return B(238,130,238)})),Q()("#eraser").on("click",(function(){return B(255,255,255)})),Q()("#width1").on("click",(function(){return R(5)})),Q()("#width2").on("click",(function(){return R(15)})),Q()("#width3").on("click",(function(){return R(25)})),Q()("#width4").on("click",(function(){return R(40)})),t.noLoop()},t.draw=function(){t.stroke(j,L,S),t.strokeWeight(O),t.fill(0);for(var e=0;e<k.length;e++){var a=k[e];t.stroke(a.r,a.g,a.b),t.strokeWeight(a.penwidth),t.line(a.x,a.y,a.px,a.py)}},t.windowResized=function(){var e=document.getElementById("canvasContainer"),a=e.offsetWidth,n=e.offsetHeight;t.resizeCanvas(a,n)}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.myP5=new J.a(this.Sketch,this.myRef.current)}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.currentPlayers).map((function(t,a){return r.a.createElement("div",null,r.a.createElement("div",null,e.state.currentPlayers[t].name),r.a.createElement("div",null,e.state.currentPlayers[t].score))}));return r.a.createElement("div",{className:"all__view"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"game__container"},r.a.createElement("div",{className:"row inner__game__container"},r.a.createElement("div",{className:"col-2 leaderboard__container"},r.a.createElement("div",null,t)),r.a.createElement("div",{className:"col-9 drawing__container"},r.a.createElement("div",{className:"timer"},r.a.createElement("span",null,"60")),r.a.createElement("div",{id:"canvasContainer",className:"canvasContainer"}),r.a.createElement("div",{className:"word"},r.a.createElement("span",null,"WORD"))),r.a.createElement("div",{className:"col-1 tools__container"},r.a.createElement("div",{className:"row tools1"},r.a.createElement("div",{className:"pen__box__row"},r.a.createElement("div",{id:"eraser",className:"pen__box",style:{marginTop:"10px"}})),r.a.createElement("div",{className:"pen__box__row"},r.a.createElement("div",{id:"width1",className:"pen__box",style:{backgroundColor:"gray"}},"5"),r.a.createElement("div",{id:"width2",className:"pen__box",style:{backgroundColor:"gray"}},"15"),r.a.createElement("div",{id:"width3",className:"pen__box",style:{backgroundColor:"gray"}},"25"),r.a.createElement("div",{id:"width4",className:"pen__box",style:{backgroundColor:"gray"}},"40"))),r.a.createElement("div",{className:"row tools2"},r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"aliceblue",className:"color__box"}),r.a.createElement("div",{id:"black",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"lightgray",className:"color__box"}),r.a.createElement("div",{id:"gray",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"brown",className:"color__box"}),r.a.createElement("div",{id:"darkred",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"pink",className:"color__box"}),r.a.createElement("div",{id:"red",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"darkorange",className:"color__box"}),r.a.createElement("div",{id:"orange",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"khaki",className:"color__box"}),r.a.createElement("div",{id:"yellow",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"lightgreen",className:"color__box"}),r.a.createElement("div",{id:"green",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"lightskyblue",className:"color__box"}),r.a.createElement("div",{id:"lightblue",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"slateblue",className:"color__box"}),r.a.createElement("div",{id:"blue",className:"color__box"})),r.a.createElement("div",{className:"color__box__row"},r.a.createElement("div",{id:"violet",className:"color__box"}),r.a.createElement("div",{id:"purple",className:"color__box"}))))))),r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"chat__container"},r.a.createElement("div",{id:"chat"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"panel panel-primary"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("span",{className:"glyphicon glyphicon-comment"})," ","Chat"),r.a.createElement("div",{className:"panel-body"},r.a.createElement("ul",{className:"chat"})),r.a.createElement("div",{className:"panel-footer"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{id:"inputBox",type:"text",className:"form-control input-sm",placeholder:"Enter your guess"}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-warning btn-sm",id:"btnSend"},"Send"))))))))))),r.a.createElement("button",{id:"draw"},"start"))}}]),a}(n.Component)),te=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).setup=function(){n.check=!0;var e=n.state,t=e.host,a=e.sessionID,r=n.props.user,o=q(t,a);t==r.username&&o.remove(),o.once("value",(function(e){e=e.val();var c={},l=r;e?(c.players={},Object.keys(e.players).forEach((function(t,a){var n=e.players[t];c.players["".concat(n.username)]=n})),c.players["".concat(l.username)]=l,r.username,o.update(c)):(c.players={},c.players["".concat(l.username)]=l,c.start=!1,o.set(c)),n.setState({sessionDB:q(t,a)})})),o.on("value",(function(e){if(e=e.val()){if(e.start){n.lang=e.lang;var t=Math.floor(1e3*Math.random());setTimeout(n.setRedirect,t)}if(e.players){var a=[];Object.keys(e.players).forEach((function(t){a.push(e.players[t])})),n.setState({players:a})}}}))},n.setRedirect=function(){n.setState({redirect:!0})},n.renderRedirect=function(){return r.a.createElement(b.a,{to:"/game/".concat(n.props.match.params.host,"/").concat(n.props.match.params.sessionid,"/").concat(n.props.user.username,"/").concat(n.lang)})},n.check=!1,n.lang="en",n.state={redirect:!1,host:n.props.match.params.host,sessionID:n.props.match.params.sessionid,players:[],sessionDB:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.check||(console.log("test"),this.setup())}},{key:"componentDidUpdate",value:function(){}},{key:"langSelect",value:function(e){this.lang=e.target.value}},{key:"startGame",value:function(){var e=this;this.state.host==this.props.user.username&&this.state.sessionDB.once("value",(function(t){(t=t.val())&&(t.start=!0,t.lang=e.lang,e.state.sessionDB.update(t))}))}},{key:"render",value:function(){var e=this,t=this.state.players.map((function(e,t){return r.a.createElement("div",{key:t},e.username)}));return r.a.createElement(r.a.Fragment,null,this.state.redirect&&this.props.user?this.renderRedirect():null,r.a.createElement(N.a,null,r.a.createElement(x.a,{xs:"2"},r.a.createElement(O.a,null,r.a.createElement(N.a,{className:"home"},r.a.createElement(x.a,null,r.a.createElement("h1",null," Create private Rome ")),r.a.createElement(x.a,null,r.a.createElement("select",{className:"lang form-control form-control-md",onChange:function(t){e.langSelect(t)}},r.a.createElement("option",{value:"en"},"English"),r.a.createElement("option",{value:"ar"},"Arabic"))),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"btn-primary-start",block:!0,onClick:function(){return e.startGame()}},"Start Game")))),r.a.createElement(O.a,null,r.a.createElement(N.a,{className:"player"},r.a.createElement(x.a,null,r.a.createElement("h1",null," PLAYERS")),r.a.createElement(x.a,null,r.a.createElement("hr",null),t)),r.a.createElement(N.a,null,r.a.createElement(x.a,null,r.a.createElement("h1",null,window.location.href)))))))}}]),a}(n.Component),ae=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isAuth:!1,user:null,waiting:!1},e.logoutHandler=function(t){t.preventDefault(),localStorage.removeItem("token"),e.setState({isAuth:!1,user:null})},e.userLogin=function(){var t=Object(u.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/auth/user",{headers:{"x-auth-token":a}});case 3:n=t.sent,e.setState({isAuth:!0,user:n.data.user,waiting:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.setState({user:null,isAuth:!1,waiting:!1});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");null!=e&&(Object(E.decode)(e)||localStorage.removeItem("token"),this.userLogin(e))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isAuth,n=t.user;return r.a.createElement("div",null,r.a.createElement(A,{user:n,logout:this.logoutHandler}),r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(B,Object.assign({},t,{user:n,isAuth:a,userLogin:e.userLogin}))}}),this.state.waiting&&r.a.createElement(S,{exact:!0,path:"/game/:host/:sessionid",isLogin:a,user:n,redirectTo:"/",component:te}),this.state.waiting&&r.a.createElement(S,{exact:!0,path:"/game/:host/:sessionid/:player/:lang",isLogin:a,user:n,redirectTo:"/",component:ee})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[180,1,2]]]);
//# sourceMappingURL=main.0d9f720d.chunk.js.map