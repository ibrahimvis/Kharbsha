{"version":3,"sources":["components/user/Login.js","components/user/Signup.js","components/user/User.js","PrivateRoute.js","components/navbar/Navb.js","components/home/Profile.js","components/home/EditInfo.js","components/home/Form.js","components/home/UserFrom.js","components/home/Home.js","components/firebase/firebase.js","components/game/Game.js","components/user/GameRedirect.js","App.js","serviceWorker.js","index.js"],"names":["Login","props","useState","login","setLogin","setIsLogin","onChangeInput","target","name","value","className","htmlFor","type","placeholder","onChange","e","onClick","preventDefault","axios","post","then","res","data","token","localStorage","setItem","userLogin","history","push","catch","err","setTimeout","console","log","onSubmit","Signup","register","setRegister","changeHandler","registerHandler","a","message","Component","PrivateRoute","isLogin","component","redirectTo","rest","render","to","Navb","authNavDetails","user","Nav","Link","as","logout","Navbar","collapseOnSelect","expand","bg","variant","Brand","Toggle","aria-controls","Collapse","id","Profile","Container","Row","Image","src","rounded","Col","xs","class","EditInfo","Carousel","Item","alt","Form","state","isProfileOpen","this","setState","showProfile","showEdit","UserForm","isLoginOpen","showLogin","showSignin","Home","isLoggedin","setIsLoggedin","startGameBtn","setStartGameBtn","redirectToGame","setRedirectToGame","createSession","randomSessionID","length","chars","mask","indexOf","result","i","Math","round","random","randomString","username","useEffect","isAuth","Button","block","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","getPlayerRef","host","sessionID","ref","getDrawingRef","getTimerRef","getChatRef","getWordRef","getGameRef","getSessionRef","Game","myRef","React","createRef","currentPlayers","Sketch","p","player","playersCount","gameDB","playersDB","drawingDB","chatDB","wordDB","timer","timerInterval","players","isDrawing","words","word","points","lang","isFormating","answered","penwidth","r","g","b","Word","queryString","parse","location","search","wordText","document","querySelector","wordArr","split","formatedWord","map","m","amount","parseInt","innerHTML","join","pickRand","count","rand","floor","currentWord","startRound","once","playersData","val","gameData","getPlayer","Object","keys","start","update","get","wordsArry","randomWords","renderWordsBtn","gameScreen","$","css","append","wordsBtn","display","justifyContent","position","width","top","left","color","forEach","fontSize","backgroundColor","on","remove","loop","toUpperCase","nextRound","tmpIndex","key","index","drawKeyDown","x","mouseX","y","mouseY","px","pmouseX","py","pmouseY","drawKeyDownAndMoved","mouseIsPressed","gameTimerController","Date","setInterval","seconds","renderWord","clearInterval","pickColor","newR","newG","newB","pickPenwidth","newPenwidth","setup","match","params","sessionid","tmp","playerObj","score","clear","set","hasOwnProperty","chatDiv","select","chatInp","msg","limitToLast","playerName","answer","li","createElement","playerNameEle","parent","msgEle","canvasDiv","getElementById","offsetWidth","height","offsetHeight","canvas","createCanvas","mousePressed","mouseMoved","startGame","noLoop","draw","stroke","strokeWeight","fill","point","line","windowResized","resizeCanvas","myP5","p5","current","playersCard","style","marginTop","GameRedirect","check","sessionDB","setRedirect","tmpArry","redirect","renderRedirect","playersCards","langSelect","window","href","App","waiting","logoutHandler","removeItem","headers","getItem","decode","exact","path","Boolean","hostname","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.0d9f720d.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Login = (props) => {\r\n  const [login, setLogin] = useState({});\r\n  const [isLogin, setIsLogin] = useState(false);\r\n\r\n  let onChangeInput = ({ target: { name, value } }) => {\r\n    setLogin({ ...login, [name]: value });\r\n  };\r\n\r\n  let onSubmit = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(\"/api/auth/login\", login)\r\n      .then((res) => {\r\n        if (res.data.token) {\r\n          localStorage.setItem(\"token\", res.data.token);\r\n          props.userLogin(res.data.token);\r\n          props.history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setIsLogin(true);\r\n        setTimeout(() => {\r\n          setIsLogin(false);\r\n        }, 4000);\r\n        console.log(\"email or password not correct\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"inner-profile-container\">\r\n      <div className=\"box\">\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"emil\"></label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"email\"\r\n            className=\"login-input input-xlarge\"\r\n            placeholder=\"Email Address\"\r\n            onChange={(e) => onChangeInput(e)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"password\"></label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            className=\"login-input\"\r\n            placeholder=\"Password\"\r\n            onChange={(e) => onChangeInput(e)}\r\n          />\r\n        </div>\r\n        <div className=\"form-group text-center\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-success btn-lg\"\r\n            onClick={(e) => onSubmit(e)}\r\n          >\r\n            Login\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst Signup = (props) => {\r\n  const [register, setRegister] = useState({});\r\n\r\n  let changeHandler = ({ target: { name, value } }) => {\r\n    setRegister({ ...register, [name]: value });\r\n    // console.log(name, value)\r\n  };\r\n\r\n  let registerHandler = async (e) => {\r\n    e.preventDefault();\r\n    // console.log(register[\"password_confirmation\"])\r\n    if (register[\"password\"] == register[\"password_confirmation\"]) {\r\n      try {\r\n        let data = await axios.post(\"/api/auth/signup\", register);\r\n        if (data.data.token) {\r\n          localStorage.setItem(\"token\", data.data.token);\r\n          props.userLogin(data.data.token);\r\n          props.history.push(\"/\");\r\n        } else throw { message: \"something\" };\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    } else {\r\n      console.log(\"password confor is bla bla bla\");\r\n      //show error message\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"inner-profile-container\">\r\n      <div className=\"box\">\r\n        <div className=\"input-group\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            placeholder=\"Username\"\r\n            onChange={changeHandler}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"emil\"></label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email Address \"\r\n            onChange={changeHandler}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"password\"></label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={changeHandler}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"password\"></label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password_confirmation\"\r\n            placeholder=\"Password confirmation \"\r\n            onChange={changeHandler}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-sm\"\r\n          onClick={(e) => registerHandler(e)}\r\n        >\r\n          Sign Up\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { Component } from \"react\";\r\nimport Login from \"../user/Login\";\r\nimport Signup from \"../user/Signup\";\r\n\r\nexport default class User extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoginOpen: true,\r\n    };\r\n  }\r\n  showLogin() {\r\n    this.setState({ isLoginOpen: true });\r\n  }\r\n  showSingup() {\r\n    this.setState({ isLoginOpen: false });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"user__container\">\r\n          <div className=\"user__btn\" onClick={() => this.showLogin()}>\r\n            Login\r\n          </div>\r\n          <div className=\"user__btn\" onClick={() => this.showSingup()}>\r\n            Create Account\r\n          </div>\r\n        </div>\r\n        {this.state.isLoginOpen ? (\r\n          <Login {...this.props} userLogin={this.props.userLogin} />\r\n        ) : (\r\n          <Signup {...this.props} userLogin={this.props.userLogin} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n/* \r\n    This Component is use to replace\r\n    Route from react-router-dom\r\n    ---\r\n    It authenticates and redirects based on\r\n    the component passed as props to it.\r\n*/\r\nexport default function PrivateRoute({\r\n  isLogin,\r\n  component: Component,\r\n  redirectTo: redirectTo,\r\n  ...rest //all other props\r\n}) {\r\n  return (\r\n    <>\r\n      <Route\r\n        {...rest}\r\n        render={(props) =>\r\n          isLogin ? (\r\n            <Component {...rest} {...props} />\r\n          ) : (\r\n            <Redirect to={redirectTo} />\r\n          )\r\n        }\r\n      />\r\n      {console.log(isLogin)}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Navb = (props) => {\r\n  const authNavDetails = props.user ? (\r\n    <>\r\n      <Nav.Link as={Link} to=\"/profile\" user={props.user}>\r\n        Profile\r\n      </Nav.Link>\r\n      <Nav.Link as={Link} to=\"/logout\" onClick={props.logout}>\r\n        Logout\r\n      </Nav.Link>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <Nav.Link as={Link} to=\"/login\">\r\n        Login\r\n      </Nav.Link>\r\n      <Nav.Link as={Link} to=\"/signup\">\r\n        Register\r\n      </Nav.Link>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n        <Navbar.Brand as={Link} to=\"/\">\r\n          Kharbashah\r\n        </Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n        <Navbar.Collapse\r\n          id=\"responsive-navbar-nav\"\r\n          className=\"justify-content-end\"\r\n        >\r\n          <Nav>{authNavDetails}</Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navb;\r\n","import React from 'react'\r\nimport { Container, Row, Col, Image } from \"react-bootstrap\";\r\n\r\nconst Profile = () => {\r\n    return (\r\n        <div className=\"inner-profile-container\">\r\n\r\n            <div className=\"input-group\">\r\n                <Container className=\"mt-5\">\r\n                    <Row>\r\n                        <Image className=\"rounded mx-auto d-block\" src=\"https://via.placeholder.com/150\" rounded />\r\n                    </Row>\r\n                    <Row>\r\n                        <label className=\"text-light mx-auto\">User Name</label>\r\n                    </Row>\r\n                    <Row className=\"text-light text-center text-uppercase mt-5\">\r\n                        <Col xs={6}>\r\n                        <label>Overall</label>\r\n                        </Col>\r\n                        <Col xs={6}>\r\n                        <label>Feedback</label>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"text-light text-center mt-3\">\r\n                        <Col xs={6}>\r\n                        <span class=\"border border-primary p-2\"> 0 </span>\r\n                        </Col>\r\n                        <Col xs={6}>\r\n                        <span class=\"border border-primary p-2\"> 0 </span>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react'\r\nimport { Carousel } from \"react-bootstrap\"; \r\n\r\nexport default class EditInfo extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"inner-profile-container\">\r\n            <div className=\"box\">\r\n            <Carousel>\r\n  <Carousel.Item>\r\n    <img\r\n      className=\"d-block w-100\"\r\n      src=\"holder.js/200x200?text=First slide&bg=373940\"\r\n      alt=\"First slide\"\r\n    />\r\n  </Carousel.Item>\r\n  <Carousel.Item>\r\n    <img\r\n      className=\"d-block w-100\"\r\n      src=\"holder.js/200x200?text=Second slide&bg=282c34\"\r\n      alt=\"second slide\"\r\n    />\r\n  </Carousel.Item>\r\n  <Carousel.Item>\r\n    <img\r\n      className=\"d-block w-100\"\r\n      src=\"holder.js/200x200?text=Third slide&bg=20232a\"\r\n      alt=\"Third slide\"\r\n    />\r\n  </Carousel.Item>\r\n</Carousel>\r\n              <div className=\"input-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  placeholder=\"Username\"\r\n                //   onChange={changeHandler}\r\n                />\r\n              </div>\r\n      \r\n              <div className=\"input-group\">\r\n                <label htmlFor=\"emil\"></label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"Email Address \"\r\n                //   onChange={changeHandler}\r\n                />\r\n              </div>\r\n      \r\n              <div className=\"input-group\">\r\n                <label htmlFor=\"password\"></label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                //   onChange={changeHandler}\r\n                />\r\n              </div>\r\n      \r\n              <div className=\"input-group\">\r\n                <label htmlFor=\"password\"></label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password_confirmation\"\r\n                  placeholder=\"Password confirmation \"\r\n                //   onChange={changeHandler}\r\n                />\r\n              </div>\r\n      \r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-sm\"\r\n                // onClick={(e) => registerHandler(e)}\r\n              >\r\n                Edit\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport EditInfo from \"./EditInfo\";\r\n\r\nclass Form extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isProfileOpen: true,\r\n    };\r\n  }\r\n  showProfile() {\r\n    this.setState({ isProfileOpen: true });\r\n  }\r\n  showEdit() {\r\n    this.setState({ isProfileOpen: false });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"profile__container\">\r\n          <div className=\"user__btn\" onClick={() => this.showProfile()}>\r\n            Profile\r\n          </div>\r\n          <div className=\"user__btn\" onClick={() => this.showEdit()}>\r\n            Edit\r\n          </div>\r\n        </div>\r\n        {this.state.isProfileOpen ? (\r\n          <Profile {...this.props} userLogin={this.props.userLogin} />\r\n        ) : (\r\n          <EditInfo {...this.props} userLogin={this.props.userLogin} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Form;\r\n","import React, { Component } from \"react\";\r\nimport Login from \"../user/Login\";\r\nimport Signup from \"../user/Signup\";\r\n\r\nclass UserForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoginOpen: true,\r\n    };\r\n  }\r\n\r\n  showLogin() {\r\n    this.setState({ isLoginOpen: true });\r\n  }\r\n  showSignin() {\r\n    this.setState({ isLoginOpen: false });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"profile__container\">\r\n          <div className=\"user__btn\" onClick={() => this.showLogin()}>\r\n            Login\r\n          </div>\r\n          <div className=\"user__btn\" onClick={() => this.showSignin()}>\r\n            Signup\r\n          </div>\r\n        </div>\r\n        {this.state.isLoginOpen ? (\r\n          <Login {...this.props} userLogin={this.props.userLogin} />\r\n        ) : (\r\n          <Signup {...this.props} userLogin={this.props.userLogin} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default UserForm;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Form from \"./Form\";\r\nimport UserForm from \"./UserFrom\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\n\r\nexport const Home = (props) => {\r\n  const [isLoggedin, setIsLoggedin] = useState(false);\r\n  const [startGameBtn, setStartGameBtn] = useState();\r\n  const [redirectToGame, setRedirectToGame] = useState();\r\n\r\n  function createSession() {\r\n    let randomSessionID = randomString(5, \"#Aa\");\r\n    setRedirectToGame(\r\n      <Redirect to={`/game/${props.user.username}/${randomSessionID}`} />\r\n    );\r\n  }\r\n\r\n  function randomString(length, chars) {\r\n    let mask = \"\";\r\n    if (chars.indexOf(\"a\") > -1) mask += \"abcdefghijklmnopqrstuvwxyz\";\r\n    if (chars.indexOf(\"A\") > -1) mask += \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\r\n    if (chars.indexOf(\"#\") > -1) mask += \"0123456789\";\r\n    let result = \"\";\r\n    for (let i = length; i > 0; --i)\r\n      result += mask[Math.round(Math.random() * (mask.length - 1))];\r\n    return result;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.isAuth) {\r\n      setIsLoggedin(true);\r\n    } else {\r\n      setIsLoggedin(false);\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isLoggedin) {\r\n      setStartGameBtn(\r\n        <div>\r\n          <>\r\n            <Button className=\"btn-primary-start text-center\" block>\r\n              Start Game\r\n            </Button>\r\n          </>\r\n          <>\r\n            <Button\r\n              variant=\"secondary\"\r\n              className=\"btn-primary-start text-center\"\r\n              block\r\n              onClick={() => {\r\n                createSession();\r\n              }}\r\n            >\r\n              Create private room\r\n            </Button>\r\n          </>\r\n        </div>\r\n      );\r\n    } else {\r\n      setStartGameBtn(<></>);\r\n    }\r\n  }, [isLoggedin]);\r\n\r\n  return (\r\n    <div>\r\n      {redirectToGame}\r\n      <Container>\r\n        <Row>\r\n          <Col xs={8}>\r\n            <Container className=\"home\">\r\n              <div className=\"home-box\">\r\n                <Row>\r\n                  <h2> About </h2>\r\n                </Row>\r\n                <Row>\r\n                  <p>\r\n                    {\" \"}\r\n                    Kharpashah is a multiplayer drawing and guessing game.{\" \"}\r\n                    <br />\r\n                    One game consists of a few rounds in which every round\r\n                    someone has to draw their chosen word and others have to\r\n                    guess it to gain points!\r\n                  </p>\r\n                </Row>\r\n                <Row>\r\n                  <h2> Instructions </h2>\r\n                </Row>\r\n                <Row>\r\n                  <p>\r\n                    {\" \"}\r\n                    When its your turn to draw, you will have to choose a word\r\n                    from three options and visualize that word in 80 seconds,\r\n                    alternatively when somebody else is drawing you have to type\r\n                    your guess into the chat to gain points, be quick, the\r\n                    earlier you guess a word the more points you get!\r\n                  </p>\r\n                </Row>\r\n              </div>\r\n              {startGameBtn}\r\n            </Container>\r\n          </Col>\r\n          <Col xs={4}>\r\n            <Container>\r\n              {props.isAuth ? (\r\n                <Form userLogin={props.userLogin} />\r\n              ) : (\r\n                <UserForm userLogin={props.userLogin} />\r\n              )}\r\n            </Container>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n","import * as firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDmPon15pDhh6C_-bl6p_xWQrLKx1CVFJU\",\r\n  authDomain: \"project4-kharbsha.firebaseapp.com\",\r\n  databaseURL: \"https://project4-kharbsha.firebaseio.com\",\r\n  projectId: \"project4-kharbsha\",\r\n  storageBucket: \"project4-kharbsha.appspot.com\",\r\n  messagingSenderId: \"468753433035\",\r\n  appId: \"1:455668950796:web:4837c8477221e1064b0b29\",\r\n  measurementId: \"G-VSGFPEFLK4\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const getPlayerRef = (host, sessionID) => {\r\n  return firebase.database().ref(host + sessionID + \"/playersDB\");\r\n};\r\n\r\nexport const getDrawingRef = (host, sessionID) => {\r\n  return firebase.database().ref(host + sessionID + \"/drawingDB\");\r\n};\r\n\r\nexport const getTimerRef = (host, sessionID) => {\r\n  return firebase.database().ref(host + sessionID + \"/timerDB\");\r\n};\r\n\r\nexport const getChatRef = (host, sessionID) => {\r\n  return firebase.database().ref(host + sessionID + \"/chatDB\");\r\n};\r\n\r\nexport const getWordRef = (host, sessionID) => {\r\n  return firebase.database().ref(host + sessionID + \"/wordDB\");\r\n};\r\n\r\nexport const getGameRef = (host, sessionID) => {\r\n  return firebase.database().ref(host + sessionID + \"/gameDB\");\r\n};\r\n\r\nexport const getSessionRef = (host, sessionID) => {\r\n  return firebase.database().ref(host + sessionID + \"/sessionDB\");\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport {\r\n  getPlayerRef,\r\n  getDrawingRef,\r\n  getTimerRef,\r\n  getChatRef,\r\n  getWordRef,\r\n  getGameRef,\r\n} from \"../firebase/firebase\";\r\nimport p5 from \"p5\";\r\n\r\nimport axios from \"axios\";\r\nimport $ from \"jquery\";\r\nimport queryString from \"query-string\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default class Game extends Component {\r\n  myRef = React.createRef();\r\n  state = {\r\n    currentPlayers: {},\r\n  };\r\n\r\n  Sketch = (p) => {\r\n    let host, sessionID, player; // URL params\r\n    let players = []; // players in session array\r\n    let playersCount;\r\n    let gameDB, playersDB, drawingDB, chatDB, wordDB, timerDB; // realtime databases\r\n    let isDrawing = false; // Drawing vars\r\n    let words = [];\r\n    let word = \"\";\r\n    let points = []; // canvas points\r\n    let lang = \"en\";\r\n    let timer;\r\n    let timerMax = 60;\r\n    let timerInterval;\r\n    let isFormating = false;\r\n    let answered = false;\r\n    let penwidth = 6;\r\n    let r = 0,\r\n      g = 0,\r\n      b = 0;\r\n    const values = queryString.parse(this.props.location.search);\r\n    class Word {\r\n      constructor(word) {\r\n        this.word = word;\r\n        this.wordText = document.querySelector(\".word\");\r\n        this.wordArr = word.split(\"\");\r\n        this.formatedWord = this.wordArr.map((m) => \"_\");\r\n        this.amount = parseInt(this.wordArr.length / 3);\r\n      }\r\n\r\n      renderWord() {\r\n        if (isDrawing) {\r\n          this.wordText.innerHTML = `<span>${this.word}</span>`;\r\n        } else {\r\n          if (timer >= 60) {\r\n            this.wordText.innerHTML = `<span>${this.formatedWord.join(\r\n              \" \"\r\n            )}</span>`;\r\n          }\r\n\r\n          // if (timer == 60 && !isFormating) {\r\n          //   isFormating = true;\r\n          //   this.pickRand();\r\n          //   this.wordText.innerHTML = this.formatedWord.join(\" \");\r\n          // }\r\n\r\n          if (timer == 40 && !isFormating) {\r\n            isFormating = true;\r\n            this.pickRand();\r\n            this.wordText.innerHTML = `<span>${this.formatedWord.join(\r\n              \" \"\r\n            )}</span>`;\r\n          }\r\n\r\n          if (timer == 20 && !isFormating) {\r\n            isFormating = true;\r\n            this.pickRand();\r\n            this.wordText.innerHTML = `<span>${this.formatedWord.join(\r\n              \" \"\r\n            )}</span>`;\r\n          }\r\n\r\n          if (timer == 5 && !isFormating) {\r\n            isFormating = true;\r\n            this.amount -= 1;\r\n            this.pickRand();\r\n            this.wordText.innerHTML = `<span>${this.formatedWord.join(\r\n              \" \"\r\n            )}</span>`;\r\n          }\r\n        }\r\n      }\r\n\r\n      pickRand() {\r\n        let count = 0;\r\n        while (count != this.amount) {\r\n          var rand = Math.floor(Math.random() * this.wordArr.length);\r\n          if (this.formatedWord[rand] != this.wordArr[rand]) {\r\n            count++;\r\n            this.formatedWord[rand] = this.wordArr[rand];\r\n          }\r\n        }\r\n      }\r\n    }\r\n    var currentWord = new Word(word);\r\n\r\n    p.setup = () => {\r\n      // http://localhost:3006/game?host=seerde&sessionid=1&player=seerde\r\n\r\n      // host = values.host;\r\n      // sessionID = values.sessionid;\r\n      // player = values.player;\r\n      // console.log(`Host: ${host}, Session ID: ${sessionID}, Player: ${player}`);\r\n\r\n      host = this.props.match.params.host;\r\n      sessionID = this.props.match.params.sessionid;\r\n      player = this.props.match.params.player;\r\n      lang = this.props.match.params.lang;\r\n      console.log(`Host: ${host}, Session ID: ${sessionID}, Player: ${player}`);\r\n\r\n      // Add player to session array\r\n      players.push(player);\r\n\r\n      // Creating realtime databases\r\n      playersDB = getPlayerRef(host, sessionID);\r\n      drawingDB = getDrawingRef(host, sessionID);\r\n      timerDB = getTimerRef(host, sessionID);\r\n      gameDB = getChatRef(host, sessionID);\r\n      wordDB = getWordRef(host, sessionID);\r\n      chatDB = getGameRef(host, sessionID);\r\n\r\n      //\r\n      // PLAYERS\r\n      /////////////////////////////////\r\n      playersDB.once(\"value\", (data) => {\r\n        // get old data from database\r\n        data = data.val();\r\n\r\n        // tmp object to send to database later\r\n        let tmp = {};\r\n\r\n        // new player object\r\n        let playerObj = {\r\n          isDrawing: false,\r\n          name: player,\r\n          score: 0,\r\n        };\r\n\r\n        // get old data from database modify it and send it\r\n        if (data) {\r\n          let count = 1; // players count\r\n          // if there is old data in database\r\n          Object.keys(data).forEach((key, index) => {\r\n            let player = data[key];\r\n            tmp[`${player.name}`] = player; // copy old data to tmp\r\n          });\r\n          tmp[`${playerObj.name}`] = playerObj; // add the new data to old data tmp\r\n          count = Object.keys(tmp).length; // get players count\r\n          playersDB.update(tmp); // update players\r\n          gameDB.update({\r\n            start: false,\r\n            clear: false,\r\n            loop: false,\r\n            count: count,\r\n          }); // update players count\r\n        } else {\r\n          tmp[`${playerObj.name}`] = playerObj; // add new data tmp\r\n          playersDB.set(tmp); // push data to database\r\n          gameDB.set({ start: false, clear: false, loop: false, count: 1 }); // push players count\r\n        }\r\n      });\r\n      playersDB.on(\"value\", (data) => {\r\n        data = data.val();\r\n        if (data) {\r\n          this.setState({\r\n            currentPlayers: data,\r\n          });\r\n          if (data.hasOwnProperty(`${player}`)) {\r\n            isDrawing = data[`${player}`].isDrawing ? true : false;\r\n          }\r\n        }\r\n      });\r\n\r\n      //\r\n      // CHAT\r\n      /////////////////////////////////\r\n      let chatDiv = p.select(\".chat\");\r\n      let chatInp = p.select(\"#inputBox\");\r\n      let chatBtn = $(\"#btnSend\");\r\n\r\n      chatBtn.on(\"click\", (e) => {\r\n        let msg = chatInp.value();\r\n        if (msg != \"\") {\r\n          chatInp.value(\"\");\r\n\r\n          wordDB.limitToLast(1).once(\"value\", (data) => {\r\n            data = data.val();\r\n            if (data.word == msg.toUpperCase() && !isDrawing && !answered) {\r\n              answered = true;\r\n              chatDB.push({\r\n                playerName: player,\r\n                msg: `Guessed the answer correctly!`,\r\n                answer: true,\r\n              });\r\n            } else {\r\n              chatDB.push({ playerName: player, msg: msg, answer: false });\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n      chatDB.on(\"child_added\", (data) => {\r\n        data = data.val();\r\n        let { playerName, msg, answer } = data;\r\n\r\n        let li = p.createElement(\"li\");\r\n\r\n        let playerNameEle = p.createElement(\"strong\", playerName);\r\n        playerNameEle.class(\"primary-font\");\r\n        playerNameEle.parent(li);\r\n\r\n        let msgEle = p.createElement(\"p\", msg);\r\n\r\n        msgEle.class(\"message\");\r\n        msgEle.parent(li);\r\n        li.parent(chatDiv);\r\n\r\n        if (answer && isDrawing) {\r\n          playersDB.once(\"value\", (data) => {\r\n            data = data.val();\r\n\r\n            data[`${playerName}`].score += 10;\r\n            data[`${player}`].score += 5;\r\n\r\n            playersDB.update(data);\r\n          });\r\n        }\r\n      });\r\n\r\n      //\r\n      // DRAWING\r\n      /////////////////////////////////\r\n      let canvasDiv = document.getElementById(\"canvasContainer\");\r\n      let width = canvasDiv.offsetWidth;\r\n      let height = canvasDiv.offsetHeight;\r\n      let canvas = p.createCanvas(width, height);\r\n      canvas.mousePressed(drawKeyDown);\r\n      canvas.mouseMoved(drawKeyDownAndMoved);\r\n      canvas.parent(\"canvasContainer\");\r\n      drawingDB.on(\"child_added\", (data) => {\r\n        data = data.val();\r\n        // let {px, py, x, y} = data\r\n        // let drawingPoints = {px, py, x, y};\r\n        // r = data.r;\r\n        // g = data.g;\r\n        // b = data.b;\r\n        // penwidth = data.penwidth;\r\n        points.push(data);\r\n      });\r\n\r\n      //\r\n      // WORD\r\n      /////////////////////////////////\r\n      wordDB.set({ word: \"\" });\r\n      wordDB.on(\"value\", (data) => {\r\n        data = data.val();\r\n        word = data.word;\r\n        currentWord = new Word(word);\r\n        currentWord.renderWord();\r\n        console.log(word);\r\n      });\r\n\r\n      //\r\n      // TIMER\r\n      /////////////////////////////////\r\n      // timerDB.set({ timer: 80 });\r\n      // timerDB.on(\"value\", (data) => {\r\n      //   data = data.val();\r\n      //   timer\r\n      // });\r\n\r\n      //\r\n      // GAME\r\n      /////////////////////////////////\r\n      gameDB.on(\"value\", (data) => {\r\n        data = data.val();\r\n        if (data.start) {\r\n          startGame();\r\n        }\r\n        if (data.loop) {\r\n          console.log(\"started drawing\");\r\n          gameTimerController(true);\r\n          p.loop();\r\n        } else {\r\n          console.log(\"stopped drawing\");\r\n          points = [];\r\n          timer = 60;\r\n          answered = false;\r\n          document.querySelector(\".timer\").innerHTML = `<span>${timer}</span>`;\r\n          gameTimerController(false);\r\n          p.clear();\r\n          p.noLoop();\r\n        }\r\n      });\r\n      $(\"#draw\").on(\"click\", startRound); // draw button\r\n      $(\"#clear\").on(\"click\", nextRound); // clear button\r\n      $(\"#black\").on(\"click\", () => pickColor(0, 0, 0));\r\n      $(\"#aliceblue\").on(\"click\", () => pickColor(240, 248, 255));\r\n      $(\"#gray\").on(\"click\", () => pickColor(128, 128, 128));\r\n      $(\"#lightgray\").on(\"click\", () => pickColor(211, 211, 211));\r\n      $(\"#darkred\").on(\"click\", () => pickColor(139, 0, 0));\r\n      $(\"#brown\").on(\"click\", () => pickColor(139, 69, 19));\r\n      $(\"#red\").on(\"click\", () => pickColor(255, 0, 0));\r\n      $(\"#pink\").on(\"click\", () => pickColor(255, 192, 203));\r\n      $(\"#orange\").on(\"click\", () => pickColor(255, 165, 0));\r\n      $(\"#darkorange\").on(\"click\", () => pickColor(255, 140, 0));\r\n      $(\"#yellow\").on(\"click\", () => pickColor(255, 255, 0));\r\n      $(\"#khaki\").on(\"click\", () => pickColor(240, 230, 140));\r\n      $(\"#green\").on(\"click\", () => pickColor(0, 128, 0));\r\n      $(\"#lightgreen\").on(\"click\", () => pickColor(144, 238, 144));\r\n      $(\"#lightblue\").on(\"click\", () => pickColor(30, 144, 255));\r\n      $(\"#lightskyblue\").on(\"click\", () => pickColor(135, 206, 250));\r\n      $(\"#blue\").on(\"click\", () => pickColor(0, 0, 255));\r\n      $(\"#slateblue\").on(\"click\", () => pickColor(106, 90, 205));\r\n      $(\"#purple\").on(\"click\", () => pickColor(128, 0, 128));\r\n      $(\"#violet\").on(\"click\", () => pickColor(238, 130, 238));\r\n\r\n      $(\"#eraser\").on(\"click\", () => pickColor(255, 255, 255));\r\n\r\n      $(\"#width1\").on(\"click\", () => pickPenwidth(5));\r\n      $(\"#width2\").on(\"click\", () => pickPenwidth(15));\r\n      $(\"#width3\").on(\"click\", () => pickPenwidth(25));\r\n      $(\"#width4\").on(\"click\", () => pickPenwidth(40));\r\n\r\n      // stop draw() from looping\r\n      p.noLoop();\r\n    };\r\n    p.draw = () => {\r\n      p.stroke(r, g, b);\r\n      p.strokeWeight(penwidth);\r\n      p.fill(0);\r\n\r\n      for (let i = 0; i < points.length; i++) {\r\n        let point = points[i];\r\n        p.stroke(point.r, point.g, point.b);\r\n        p.strokeWeight(point.penwidth);\r\n        p.line(point.x, point.y, point.px, point.py);\r\n      }\r\n    };\r\n    p.windowResized = () => {\r\n      let canvasDiv = document.getElementById(\"canvasContainer\");\r\n      let width = canvasDiv.offsetWidth;\r\n      let height = canvasDiv.offsetHeight;\r\n      p.resizeCanvas(width, height);\r\n    };\r\n\r\n    function startRound() {\r\n      playersDB.once(\"value\", (playersData) => {\r\n        playersData = playersData.val();\r\n\r\n        // get players count\r\n        gameDB.once(\"value\", (gameData) => {\r\n          gameData = gameData.val();\r\n          playersCount = gameData.count;\r\n          // pick random player\r\n          let rand = Math.floor(Math.random() * playersCount);\r\n          // get player data\r\n          let getPlayer = playersData[Object.keys(playersData)[rand]];\r\n          // mark the player as isDrawing\r\n          getPlayer.isDrawing = true;\r\n          if (getPlayer.name == player) {\r\n            isDrawing = true;\r\n          }\r\n          gameData.start = true;\r\n          // update the database\r\n          playersDB.update(playersData);\r\n          gameDB.update(gameData);\r\n        });\r\n      });\r\n    }\r\n\r\n    async function startGame() {\r\n      if (isDrawing) {\r\n        // get 3 random words\r\n        try {\r\n          let wordsArry = await axios.get(`/api/word/${lang}/random/1/1/1`);\r\n          words = wordsArry.data.randomWords;\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n        renderWordsBtn();\r\n      }\r\n    }\r\n\r\n    function renderWordsBtn() {\r\n      let gameScreen = $(\"#canvasContainer\");\r\n      gameScreen.css(\"position\", \"relative\");\r\n      gameScreen.append(\"<div class='words__btn'></div>\");\r\n\r\n      let wordsBtn = $(\".words__btn\");\r\n      wordsBtn.css({\r\n        display: \"flex\",\r\n        justifyContent: \"space-around\",\r\n        position: \"absolute\",\r\n        width: \"80%\",\r\n        top: \"50%\",\r\n        left: \"20px\",\r\n        color: \"red\",\r\n      });\r\n\r\n      words.forEach((e) => {\r\n        wordsBtn.append(`<div class='word__btn'>${e}</div>`);\r\n      });\r\n\r\n      $(\".word__btn\").css({\r\n        fontSize: \"24px\",\r\n        color: \"white\",\r\n        backgroundColor: \"rgba(25, 26, 35, 0.7)\",\r\n      });\r\n\r\n      $(\".word__btn\").on(\"click\", (e) => {\r\n        word = e.target.innerHTML;\r\n        $(\".words__btn\").remove();\r\n        // database.push({ start: true, player: player, word: word });\r\n        gameDB.once(\"value\", (data) => {\r\n          data = data.val();\r\n          data.loop = true;\r\n          data.start = false;\r\n          gameDB.update(data);\r\n        });\r\n        wordDB.update({ word: word.toUpperCase() });\r\n      });\r\n    }\r\n\r\n    function nextRound() {\r\n      drawingDB.remove();\r\n      chatDB.remove();\r\n      gameDB.once(\"value\", (gameData) => {\r\n        gameData = gameData.val();\r\n        gameData.loop = false;\r\n        gameDB.update(gameData);\r\n\r\n        playersDB.once(\"value\", (playersData) => {\r\n          playersData = playersData.val();\r\n          let tmpIndex = 0;\r\n          Object.keys(playersData).forEach((key, index) => {\r\n            if (playersData[key].isDrawing) {\r\n              playersData[key].isDrawing = false;\r\n              tmpIndex = index == gameData.count - 1 ? 0 : index + 1;\r\n            }\r\n          });\r\n          let getPlayer = playersData[Object.keys(playersData)[tmpIndex]];\r\n          getPlayer.isDrawing = true;\r\n          if (getPlayer.name == player) {\r\n            isDrawing = true;\r\n          }\r\n          gameData.start = true;\r\n          playersDB.update(playersData);\r\n          gameDB.update(gameData);\r\n        });\r\n      });\r\n    }\r\n\r\n    function drawKeyDown() {\r\n      if (isDrawing) {\r\n        points.push({\r\n          x: p.mouseX,\r\n          y: p.mouseY,\r\n          px: p.pmouseX,\r\n          py: p.pmouseY,\r\n          r,\r\n          g,\r\n          b,\r\n          penwidth,\r\n        });\r\n        drawingDB.push({\r\n          x: p.mouseX,\r\n          y: p.mouseY,\r\n          px: p.pmouseX,\r\n          py: p.pmouseY,\r\n          r,\r\n          g,\r\n          b,\r\n          penwidth,\r\n        });\r\n      }\r\n    }\r\n\r\n    function drawKeyDownAndMoved() {\r\n      if (p.mouseIsPressed && isDrawing) {\r\n        drawKeyDown();\r\n      }\r\n    }\r\n\r\n    function gameTimerController(state) {\r\n      if (state) {\r\n        console.log(\"started time\", timerInterval);\r\n        let start = new Date();\r\n        timerInterval = setInterval(() => {\r\n          let currentTime = new Date();\r\n          let count = +currentTime - +start;\r\n          let seconds = Math.floor(count / 1000) % 60;\r\n          timer = timerMax - seconds;\r\n          isFormating = false;\r\n          document.querySelector(\".timer\").innerHTML = `<span>${timer}</span>`;\r\n          currentWord.renderWord();\r\n          if (timer == 1) {\r\n            clearInterval();\r\n            if (isDrawing) {\r\n              nextRound();\r\n            }\r\n          }\r\n\r\n          // if (timer > 0) {\r\n          //   timer--;\r\n          //   isFormating = false;\r\n          //   document.querySelector(\".timer\").innerHTML = timer;\r\n          //   currentWord.renderWord();\r\n          // } else {\r\n          //   if (isDrawing) {\r\n          //   }\r\n          // }\r\n        }, 1000);\r\n      } else {\r\n        console.log(\"stoped time\", timerInterval);\r\n        clearInterval(timerInterval);\r\n      }\r\n    }\r\n\r\n    function pickColor(newR, newG, newB) {\r\n      console.log(\"test\");\r\n      r = newR;\r\n      g = newG;\r\n      b = newB;\r\n    }\r\n    function pickPenwidth(newPenwidth) {\r\n      console.log(\"tttt\");\r\n      penwidth = newPenwidth;\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.myP5 = new p5(this.Sketch, this.myRef.current);\r\n  }\r\n\r\n  render() {\r\n    let playersCard = Object.keys(this.state.currentPlayers).map(\r\n      (player, i) => {\r\n        return (\r\n          <div>\r\n            <div>{this.state.currentPlayers[player].name}</div>\r\n            <div>{this.state.currentPlayers[player].score}</div>\r\n          </div>\r\n        );\r\n      }\r\n    );\r\n    return (\r\n      <div className=\"all__view\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"col-9\">\r\n              <div className=\"game__container\">\r\n                <div className=\"row inner__game__container\">\r\n                  <div className=\"col-2 leaderboard__container\">\r\n                    <div>{playersCard}</div>\r\n                  </div>\r\n                  <div className=\"col-9 drawing__container\">\r\n                    <div className=\"timer\">\r\n                      <span>60</span>\r\n                    </div>\r\n                    <div id=\"canvasContainer\" className=\"canvasContainer\"></div>\r\n                    <div className=\"word\">\r\n                      <span>WORD</span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-1 tools__container\">\r\n                    <div className=\"row tools1\">\r\n                      <div className=\"pen__box__row\">\r\n                        <div\r\n                          id=\"eraser\"\r\n                          className=\"pen__box\"\r\n                          style={{ marginTop: \"10px\" }}\r\n                        ></div>\r\n                      </div>\r\n                      <div className=\"pen__box__row\">\r\n                        <div\r\n                          id=\"width1\"\r\n                          className=\"pen__box\"\r\n                          style={{ backgroundColor: \"gray\" }}\r\n                        >\r\n                          5\r\n                        </div>\r\n                        <div\r\n                          id=\"width2\"\r\n                          className=\"pen__box\"\r\n                          style={{ backgroundColor: \"gray\" }}\r\n                        >\r\n                          15\r\n                        </div>\r\n                        <div\r\n                          id=\"width3\"\r\n                          className=\"pen__box\"\r\n                          style={{ backgroundColor: \"gray\" }}\r\n                        >\r\n                          25\r\n                        </div>\r\n                        <div\r\n                          id=\"width4\"\r\n                          className=\"pen__box\"\r\n                          style={{ backgroundColor: \"gray\" }}\r\n                        >\r\n                          40\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row tools2\">\r\n                      <div className=\"color__box__row\">\r\n                        <div id=\"aliceblue\" className=\"color__box\"></div>\r\n                        <div id=\"black\" className=\"color__box\"></div>\r\n                      </div>\r\n                      <div className=\"color__box__row\">\r\n                        <div id=\"lightgray\" className=\"color__box\"></div>\r\n                        <div id=\"gray\" className=\"color__box\"></div>\r\n                      </div>\r\n                      <div className=\"color__box__row\">\r\n                        <div id=\"brown\" className=\"color__box\"></div>\r\n                        <div id=\"darkred\" className=\"color__box\"></div>\r\n                      </div>\r\n                      <div className=\"color__box__row\">\r\n                        <div id=\"pink\" className=\"color__box\"></div>\r\n                        <div id=\"red\" className=\"color__box\"></div>\r\n                      </div>\r\n                      <div className=\"color__box__row\">\r\n                        <div id=\"darkorange\" className=\"color__box\"></div>\r\n                        <div id=\"orange\" className=\"color__box\"></div>\r\n                      </div>\r\n                      <div className=\"color__box__row\">\r\n                        <div id=\"khaki\" className=\"color__box\"></div>\r\n                        <div id=\"yellow\" className=\"color__box\"></div>\r\n                      </div>\r\n                      <div className=\"color__box__row\">\r\n                        <div id=\"lightgreen\" className=\"color__box\"></div>\r\n                        <div id=\"green\" className=\"color__box\"></div>\r\n                      </div>\r\n                      <div className=\"color__box__row\">\r\n                        <div id=\"lightskyblue\" className=\"color__box\"></div>\r\n                        <div id=\"lightblue\" className=\"color__box\"></div>\r\n                      </div>\r\n                      <div className=\"color__box__row\">\r\n                        <div id=\"slateblue\" className=\"color__box\"></div>\r\n                        <div id=\"blue\" className=\"color__box\"></div>\r\n                      </div>\r\n                      <div className=\"color__box__row\">\r\n                        <div id=\"violet\" className=\"color__box\"></div>\r\n                        <div id=\"purple\" className=\"color__box\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-3\">\r\n              <div className=\"chat__container\">\r\n                <div id=\"chat\">\r\n                  <div className=\"col\">\r\n                    <div className=\"panel panel-primary\">\r\n                      <div className=\"panel-heading\">\r\n                        <span className=\"glyphicon glyphicon-comment\"></span>{\" \"}\r\n                        Chat\r\n                      </div>\r\n                      <div className=\"panel-body\">\r\n                        <ul className=\"chat\"></ul>\r\n                      </div>\r\n                      <div className=\"panel-footer\">\r\n                        <div className=\"input-group\">\r\n                          <input\r\n                            id=\"inputBox\"\r\n                            type=\"text\"\r\n                            className=\"form-control input-sm\"\r\n                            placeholder=\"Enter your guess\"\r\n                          />\r\n                          <span className=\"input-group-btn\">\r\n                            <button\r\n                              className=\"btn btn-warning btn-sm\"\r\n                              id=\"btnSend\"\r\n                            >\r\n                              Send\r\n                            </button>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button id=\"draw\">start</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { getSessionRef } from \"../firebase/firebase\";\r\n\r\nexport default class GameRedirect extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.check = false;\r\n    this.lang = \"en\";\r\n    this.state = {\r\n      redirect: false,\r\n      host: this.props.match.params.host,\r\n      sessionID: this.props.match.params.sessionid,\r\n      players: [],\r\n      sessionDB: \"\",\r\n    };\r\n  }\r\n\r\n  setup = () => {\r\n    this.check = true;\r\n    let { host, sessionID } = this.state;\r\n    let player = this.props.user;\r\n    let sessionDB = getSessionRef(host, sessionID);\r\n    if (host == player.username) {\r\n      sessionDB.remove();\r\n    }\r\n\r\n    //\r\n    // SESSION\r\n    /////////////////////////////////\r\n    sessionDB.once(\"value\", (data) => {\r\n      data = data.val();\r\n      let tmp = {};\r\n      let playerObj = player;\r\n\r\n      if (data) {\r\n        tmp.players = {};\r\n        Object.keys(data.players).forEach((key, index) => {\r\n          let player = data.players[key];\r\n          tmp.players[`${player.username}`] = player;\r\n        });\r\n        tmp.players[`${playerObj.username}`] = playerObj;\r\n        if (host != player.username) {\r\n        }\r\n        sessionDB.update(tmp);\r\n      } else {\r\n        tmp.players = {};\r\n        tmp.players[`${playerObj.username}`] = playerObj;\r\n        tmp[\"start\"] = false;\r\n        sessionDB.set(tmp);\r\n      }\r\n      this.setState({\r\n        sessionDB: getSessionRef(host, sessionID),\r\n      });\r\n    });\r\n    sessionDB.on(\"value\", (data) => {\r\n      data = data.val();\r\n      if (data) {\r\n        if (data.start) {\r\n          this.lang = data.lang;\r\n          let rand = Math.floor(Math.random() * 1000);\r\n          setTimeout(this.setRedirect, rand);\r\n          // this.setRedirect();\r\n        }\r\n        if (data.players) {\r\n          let tmpArry = [];\r\n          Object.keys(data.players).forEach((key) => {\r\n            tmpArry.push(data.players[key]);\r\n          });\r\n          this.setState({\r\n            players: tmpArry,\r\n          });\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect: true,\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (!this.check) {\r\n      console.log(\"test\");\r\n      this.setup();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {}\r\n\r\n  langSelect(e) {\r\n    this.lang = e.target.value;\r\n  }\r\n\r\n  startGame() {\r\n    if (this.state.host == this.props.user.username) {\r\n      this.state.sessionDB.once(\"value\", (data) => {\r\n        data = data.val();\r\n        if (data) {\r\n          data.start = true;\r\n          data.lang = this.lang;\r\n          this.state.sessionDB.update(data);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    return (\r\n      <Redirect\r\n        to={`/game/${this.props.match.params.host}/${this.props.match.params.sessionid}/${this.props.user.username}/${this.lang}`}\r\n      />\r\n    );\r\n  };\r\n  render() {\r\n    let playersCards = this.state.players.map((player, key) => {\r\n      return <div key={key}>{player.username}</div>;\r\n    });\r\n    return (\r\n      <>\r\n        {this.state.redirect && this.props.user ? this.renderRedirect() : null}\r\n        <Container>\r\n          <Row xs=\"2\">\r\n            <Col>\r\n              <Container className=\"home\">\r\n                <Row>\r\n                  <h1> Create private Rome </h1>\r\n                </Row>\r\n                <Row>\r\n                  <select\r\n                    className=\"lang form-control form-control-md\"\r\n                    onChange={(e) => {\r\n                      this.langSelect(e);\r\n                    }}\r\n                  >\r\n                    <option value=\"en\">English</option>\r\n                    <option value=\"ar\">Arabic</option>\r\n                  </select>\r\n                </Row>\r\n                <>\r\n                  <Button\r\n                    className=\"btn-primary-start\"\r\n                    block\r\n                    onClick={() => this.startGame()}\r\n                  >\r\n                    Start Game\r\n                  </Button>\r\n                </>\r\n              </Container>\r\n            </Col>\r\n            <Col>\r\n              <Container className=\"player\">\r\n                <Row>\r\n                  <h1> PLAYERS</h1>\r\n                </Row>\r\n                <Row>\r\n                  <hr></hr>\r\n                  {playersCards}\r\n                </Row>\r\n              </Container>\r\n              <Container>\r\n                <Row>\r\n                  <h1>{window.location.href}</h1>\r\n                </Row>\r\n              </Container>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from \"axios\";\r\nimport { decode } from \"jsonwebtoken\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport User from \"./components/user/User.js\";\r\nimport privatepage from \"./components/home/privatepage.js\";\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport Navb from \"./components/navbar/Navb\";\r\nimport { Home } from \"./components/home/Home\";\r\nimport Login from \"./components/user/Login\";\r\nimport Signup from \"./components/user/Signup\";\r\nimport Game from \"./components/game/Game\";\r\nimport GameRedirect from \"./components/user/GameRedirect.js\";\r\nimport Form from \"./components/home/Form\";\r\nclass App extends Component {\r\n  state = {\r\n    isAuth: false,\r\n    user: null,\r\n    waiting: false,\r\n  };\r\n\r\n  logoutHandler = (e) => {\r\n    e.preventDefault();\r\n    localStorage.removeItem(\"token\");\r\n\r\n    this.setState({\r\n      isAuth: false,\r\n      user: null,\r\n    });\r\n  };\r\n\r\n  userLogin = async (token) => {\r\n    try {\r\n      let data = await axios.get(\"/api/auth/user\", {\r\n        headers: { \"x-auth-token\": token },\r\n      });\r\n\r\n      this.setState({\r\n        isAuth: true,\r\n        user: data.data.user,\r\n        waiting: true,\r\n      });\r\n    } catch (err) {\r\n      this.setState({\r\n        user: null,\r\n        isAuth: false,\r\n        waiting: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    let token = localStorage.getItem(\"token\");\r\n    if (!(token == null)) {\r\n      let user = decode(token);\r\n\r\n      if (!user) {\r\n        localStorage.removeItem(\"token\");\r\n      }\r\n\r\n      this.userLogin(token);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isAuth, user } = this.state;\r\n    return (\r\n      <div>\r\n        <Navb user={user} logout={this.logoutHandler} />\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={(props) => (\r\n              <Home\r\n                {...props}\r\n                user={user}\r\n                isAuth={isAuth}\r\n                userLogin={this.userLogin}\r\n              />\r\n            )}\r\n          />\r\n          {this.state.waiting && (\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/game/:host/:sessionid\"\r\n              isLogin={isAuth}\r\n              user={user}\r\n              redirectTo=\"/\"\r\n              component={GameRedirect}\r\n            />\r\n          )}\r\n          {this.state.waiting && (\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/game/:host/:sessionid/:player/:lang\"\r\n              isLogin={isAuth}\r\n              user={user}\r\n              redirectTo=\"/\"\r\n              component={Game}\r\n            />\r\n          )}\r\n          {/* <Route exact path=\"/\" component={Home} /> */}\r\n          {/* <Route path=\"/room\" component={privatepage} />} /> */}\r\n          {/* <Route\r\n            path=\"/user\"\r\n            render={(props) => <User {...props} userLogin={this.userLogin} />}\r\n          /> */}\r\n          {/* <Route\r\n            exact\r\n            path=\"/game/:host/:sessionid\"\r\n            render={(props) => <GameRedirect user={user} {...props} />}\r\n          /> */}\r\n          {/* <Route\r\n            exact\r\n            path=\"/game/:host/:sessionid/:player/:lang\"\r\n            render={(props) => <Game {...props} />}\r\n          /> */}\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}